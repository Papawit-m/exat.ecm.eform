worker_processes auto;

error_log /var/log/nginx/error.log warn;
pid /var/run/nginx.pid;

events {
    worker_connections 2048;
}

http {
    # ค่าต่างๆ ในส่วน HTTP เช่น server, location, และ proxy
    server {
        listen 5001;
        server_name localhost; 

        location = /favicon.ico {
            return 204;  # ตอบกลับสถานะ No Content
        }
         
        location = /index.html {
            return 204;  # ตอบกลับสถานะ No Content
        }
 
    # ส่งคำขอที่มาที่ /api/TestConnection ไปที่ k2.exat.api
            location /api/EXATPRS/TestConnection {
            proxy_pass http://exat.ecm.prs.api:5006/;  # ส่งไปยัง controller ที่ /api/EXATPRS/TestConnection ของ exat.ecm.prs.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/hello ไปที่ k2.exat.api
            location /api/EXATPRS/check-connection {
            proxy_pass http://exat.ecm.prs.api:5006/;  # ส่งไปยัง controller ที่ /api/EXATPRS/check-connection ของ exat.ecm.prs.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }

    # ส่งคำขอที่มาที่ /api/DownloadPrintFormPRS ไปที่ k2.exat.api
            location /api/EXATPRS/DownloadPrintFormPRS {
            proxy_pass http://exat.ecm.prs.api:5006/;  # ส่งไปยัง controller ที่ /api/EXATPRS/DownloadPrintFormPRS ของ exat.ecm.prs.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadPrintFormLCI ไปที่ k2.exat.api
            location /api/EXATLCI/DownloadPrintFormLCI {
            proxy_pass http://exat.ecm.lci.api:5005/;  # ส่งไปยัง controller ที่ /api/EXATLCI/DownloadPrintFormLCI ของ exat.ecm.lci.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadPrintFormFED ไปที่ k2.exat.api
            location /api/EXATEFD/DownloadPrintFormFED {
            proxy_pass http://exat.ecm.fed.api:5012/;  # ส่งไปยัง controller ที่ /api/EXATEFD/DownloadPrintFormFED ของ exat.ecm.fed.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadVehiUsageFED ไปที่ k2.exat.api
            location /api/EXATEFD/DownloadVehiUsageFED {
            proxy_pass http://exat.ecm.fed.api:5012/;  # ส่งไปยัง controller ที่ /api/EXATEFD/DownloadVehiUsageFED ของ exat.ecm.fed.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadDriverUsageVehicleFED ไปที่ k2.exat.api
            location /api/EXATEFD/DownloadDriverUsageVehicleFED {
            proxy_pass http://exat.ecm.fed.api:5012/;  # ส่งไปยัง controller ที่ /api/EXATEFD/DownloadDriverUsageVehicleFED ของ exat.ecm.fed.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadMachinerUseFED ไปที่ k2.exat.api
            location /api/EXATEFD/DownloadMachinerUseFED {
            proxy_pass http://exat.ecm.fed.api:5012/;  # ส่งไปยัง controller ที่ /api/EXATEFD/DownloadMachinerUseFED ของ exat.ecm.fed.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadPrintFormEON ไปที่ k2.exat.api
            location /api/EXATEON/DownloadPrintFormEON {
            proxy_pass http://exat.ecm.eon.api:5007/;  # ส่งไปยัง controller ที่ /api/EXATEON/DownloadPrintFormEON ของ exat.ecm.eon.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }
    # ส่งคำขอที่มาที่ /api/DownloadPrintFormEER ไปที่ k2.exat.api
            location /api/EXATEER/DownloadPrintFormEER {
            proxy_pass http://exat.ecm.eer.api:5009/;  # ส่งไปยัง controller ที่ /api/EXATEER/DownloadPrintFormEER ของ exat.ecm.eer.api
            proxy_connect_timeout 60s;      # กำหนดเวลา timeout สำหรับการเชื่อมต่อ
            proxy_send_timeout 60s;         # กำหนดเวลา timeout สำหรับการส่งข้อมูล
            proxy_read_timeout 60s;         # กำหนดเวลา timeout สำหรับการอ่านข้อมูล
            send_timeout 60s;               # กำหนดเวลา timeout สำหรับการตอบสนองกลับ
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr; 
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Content-Type application/json; 
        }

       
    }
}
